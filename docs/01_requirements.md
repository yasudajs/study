# 要件定義書（ポータル＋複数学習アプリ）

## 1. プロジェクト概要

### 1.1 目的
小学生が計算力を楽しく習得できる複数アプリ（九九、四則演算など）を提供するポータル型Webアプリ。クライアント中心設計で同時利用時のサーバー負荷を最小化。

### 1.2 対象ユーザー
- 主なユーザー: 小学1～3年生
- サポートユーザー: 保護者、教師

### 1.3 スコープ

#### 機能スコープ（含まれる）
- ポータル画面でアプリ一覧表示・遷移
- 九九練習（段選択、順番/ランダム出題、採点、正答率）
- 四則演算（演算選択、難易度選択、範囲設定、余り入力、採点、正答率）
- 結果表示（正答率・履歴、再挑戦/設定変更/ポータルへ）

#### 非機能スコープ（含まれない）
- ユーザー登録／ログイン
- 永続的な成績管理（将来拡張）
- ランキング／SNS／課金

## 2. ユースケース（要約）

| ID | アプリ | ユースケース | 概要 |
|----|-------|--------------|------|
| UC1 | ポータル | アプリを選ぶ | 九九／四則演算を選択して遷移 |
| UC2 | 九九 | 段を選ぶ | 1〜9段を複数選択 |
| UC3 | 九九 | 出題方式選択 | 順番／ランダム |
| UC4 | 共通 | 出題に回答 | テンキー入力、リアルタイム表示 |
| UC5 | 共通 | 採点・結果表示 | 正答率・履歴を表示、再挑戦 |
| UC6 | 四則演算 | 設定選択 | 演算・難易度・範囲・余り入力切替 |

## 3. 非機能要件

### 3.1 パフォーマンス
- 画面遷移: 1秒以内／入力応答: 100ms以内

### 3.2 ユーザビリティ
- 直感的操作、大きいボタン、読みやすい文字

### 3.3 互換性
- モダンブラウザ（Chrome/Edge/Safari/Firefox）

### 3.4 アクセシビリティ
- WCAG AA相当のコントラスト、キーボード操作対応

## 4. 制約・前提条件

### 4.1 技術的制約
- フロントエンド: HTML5/CSS3/JavaScript（Vanilla）
- バックエンド: Flask 2.2.5（CGI/WSGI）、SQLite 3
- クライアント中心: 問題生成／採点／正答率計算はクライアント側

### 4.2 ビジネス制約
- 無料提供、対象は小1〜3年生。可読性と楽しさを重視。

## 5. 出題数・採点（例）

### 5.1 九九
- 出題数: 選択段数×9問
- 採点: 全問終了後に正答率=正答数/総問数×100

### 5.2 四則演算
- 出題数: 設定に応じて10問（初期値）。
- 採点: 各問で正誤判定／余り入力対応（割り算むずかしい）。

## 6. 画面遷移（要約）

```
ポータル → アプリ設定（九九/四則演算） → 出題 → 結果
  ├ もう一度（同設定）
  ├ 設定を変える
  └ アプリ一覧に戻る
```

## 7. 成功基準（初期版）
- ポータルから各アプリへ遷移できる
- 九九／四則演算それぞれで設定→出題→採点→結果が完結
- クライアントのみで問題生成・採点・正答率計算が動作
- UIが小学生でも操作可能# 要件定義書

## 1. プロジェクト概要

### 1.1 目的
小学生が九九（1×1～9×9）の暗算能力を段階的に習得・強化するための学習アプリ。ゲーム的な要素を取り入れながら、繰り返し学習できる環境を提供する。

### 1.2 対象ユーザー
- **主なユーザー**: 小学1～3年生（九九を学習中の児童）
- **サポートユーザー**: 親、教師（学習状況を見守る場合）

### 1.3 スコープ

#### 機能スコープ（含まれる）
- 1～9の段から選択可能（複数選択可能）
- 2つの出題方式（順番出題、ランダム出題）
- 出題画面での回答入力
- 正答率の計算と表示
- 同じ練習の反復、スタート画面への戻り

#### 非機能スコープ（含まれない）
- ユーザー登録・ログイン
- 学習進捗の保存・管理
- 複数ユーザーの成績管理
- 親・教師向け管理画面
- ランキング機能
- 音声・動画機能

## 2. ユースケース

| # | ユースケース | 説明 |
|----|------------|------|
| UC1 | 段を選択する | ユーザーが学習する段を1つ以上選択する |
| UC2 | 出題方式を選択する | 順番出題またはランダム出題を選択する |
| UC3 | 九九問題に回答する | 出題された問題に数値を入力して回答する |
| UC4 | 正答率を確認する | 練習終了後、正答率を確認する |
| UC5 | 同じ練習を繰り返す | 同じ段・出題方式で もう一度練習する |
| UC6 | スタート画面に戻る | メイン画面に戻って別の段を選択できるようにする |

## 3. 非機能要件

### 3.1 パフォーマンス
- 各画面の遷移時間: 1秒以内
- 出題画面での反応速度: 100ms以内

### 3.2 ユーザビリティ
- 直感的で簡単な操作（小学生でも理解できる）
- 大きなボタン、見やすいフォント
- カラフルで楽しい配色

### 3.3 互換性
- モダンブラウザ（Chrome、Firefox、Safari、Edge）に対応

### 3.4 アクセシビリティ
- テキストのコントラスト比率は WCAG AA レベル以上
- キーボード操作にも対応

## 4. 制約・前提条件

### 4.1 技術的制約
- フロントエンド: HTML5 + CSS3 + JavaScriptで実装
- バックエンド: 不要（クライアント側で全て処理）
- データベース: 不要（セッション中の一時データのみ）

### 4.2 ビジネス制約
- 無料で提供
- 対象は小学1～3年生なため、難度管理が重要

## 5. 出題数・採点基準の定義

### 5.1 出題数
- **1つの段を選択した場合**: その段の最大値まで出題（例：2段を選択→2×1～2×9で9問）
- **複数の段を選択した場合**: （選択段数 × 9問）

例：
- 1段を選択 → 9問
- 3段を選択 → 27問
- 9段を選択 → 81問

### 5.2 採点基準
- 全問を回答した時点で、正答数と総問数から正答率を算出
- 正答率（%）= （正答数 / 総問数） × 100

### 5.3 回答方式
- **入力方式**: テキスト入力（数値のみ受け入れ）
- **検証**: 送信時に自動で正誤判定
- **フィードバック**: 各問題ごとに○×を表示（オプション）

## 6. 画面遷移

```
スタート画面
    ↓
段選択画面（複数選択可能）
    ↓
出題方式選択画面
    ↓
出題画面
    ↓
正答率表示画面 ─────┐
    ├→ 最初に戻る → スタート画面
    └→ もう一度する → 出題画面（同じ設定）
```

## 7. 成功基準

アプリが下記を満たしていれば、初期リリースの要件を満たしたと判断：

- [ ] 1～9の段から複数選択可能
- [ ] 順番出題、ランダム出題の両方式に対応
- [ ] 選択した段から正しく出題される
- [ ] 入力値が正誤判定される
- [ ] 正答率が正確に計算される
- [ ] 画面遷移が正常に機能する
- [ ] 小学生でも操作可能なUI
