# 要件定義書

## 1. プロジェクト概要

### 1.1 目的
小学生が九九（1×1～9×9）の暗算能力を段階的に習得・強化するための学習アプリ。ゲーム的な要素を取り入れながら、繰り返し学習できる環境を提供する。

### 1.2 対象ユーザー
- **主なユーザー**: 小学1～3年生（九九を学習中の児童）
- **サポートユーザー**: 親、教師（学習状況を見守る場合）

### 1.3 スコープ

#### 機能スコープ（含まれる）
- 1～9の段から選択可能（複数選択可能）
- 2つの出題方式（順番出題、ランダム出題）
- 出題画面での回答入力
- 正答率の計算と表示
- 同じ練習の反復、スタート画面への戻り

#### 非機能スコープ（含まれない）
- ユーザー登録・ログイン
- 学習進捗の保存・管理
- 複数ユーザーの成績管理
- 親・教師向け管理画面
- ランキング機能
- 音声・動画機能

## 2. ユースケース

| # | ユースケース | 説明 |
|----|------------|------|
| UC1 | 段を選択する | ユーザーが学習する段を1つ以上選択する |
| UC2 | 出題方式を選択する | 順番出題またはランダム出題を選択する |
| UC3 | 九九問題に回答する | 出題された問題に数値を入力して回答する |
| UC4 | 正答率を確認する | 練習終了後、正答率を確認する |
| UC5 | 同じ練習を繰り返す | 同じ段・出題方式で もう一度練習する |
| UC6 | スタート画面に戻る | メイン画面に戻って別の段を選択できるようにする |

## 3. 非機能要件

### 3.1 パフォーマンス
- 各画面の遷移時間: 1秒以内
- 出題画面での反応速度: 100ms以内

### 3.2 ユーザビリティ
- 直感的で簡単な操作（小学生でも理解できる）
- 大きなボタン、見やすいフォント
- カラフルで楽しい配色

### 3.3 互換性
- モダンブラウザ（Chrome、Firefox、Safari、Edge）に対応

### 3.4 アクセシビリティ
- テキストのコントラスト比率は WCAG AA レベル以上
- キーボード操作にも対応

## 4. 制約・前提条件

### 4.1 技術的制約
- フロントエンド: HTML5 + CSS3 + JavaScriptで実装
- バックエンド: 不要（クライアント側で全て処理）
- データベース: 不要（セッション中の一時データのみ）

### 4.2 ビジネス制約
- 無料で提供
- 対象は小学1～3年生なため、難度管理が重要

## 5. 出題数・採点基準の定義

### 5.1 出題数
- **1つの段を選択した場合**: その段の最大値まで出題（例：2段を選択→2×1～2×9で9問）
- **複数の段を選択した場合**: （選択段数 × 9問）

例：
- 1段を選択 → 9問
- 3段を選択 → 27問
- 9段を選択 → 81問

### 5.2 採点基準
- 全問を回答した時点で、正答数と総問数から正答率を算出
- 正答率（%）= （正答数 / 総問数） × 100

### 5.3 回答方式
- **入力方式**: テキスト入力（数値のみ受け入れ）
- **検証**: 送信時に自動で正誤判定
- **フィードバック**: 各問題ごとに○×を表示（オプション）

## 6. 画面遷移

```
スタート画面
    ↓
段選択画面（複数選択可能）
    ↓
出題方式選択画面
    ↓
出題画面
    ↓
正答率表示画面 ─────┐
    ├→ 最初に戻る → スタート画面
    └→ もう一度する → 出題画面（同じ設定）
```

## 7. 成功基準

アプリが下記を満たしていれば、初期リリースの要件を満たしたと判断：

- [ ] 1～9の段から複数選択可能
- [ ] 順番出題、ランダム出題の両方式に対応
- [ ] 選択した段から正しく出題される
- [ ] 入力値が正誤判定される
- [ ] 正答率が正確に計算される
- [ ] 画面遷移が正常に機能する
- [ ] 小学生でも操作可能なUI
